"use strict";const n=require("electron"),o=require("node:path");process.env.DIST=o.join(__dirname,"../dist");process.env.PUBLIC=n.app.isPackaged?process.env.DIST:o.join(process.env.DIST,"../public");let e;const{VITE_DEV_SERVER_URL:s}=process.env;function i(){e=new n.BrowserWindow({width:1024,height:768,icon:o.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{preload:o.join(__dirname,"preload.js")}}),e.removeMenu(),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),s?e.loadURL(s):e.loadFile(o.join(process.env.DIST,"index.html"))}n.app.on("ready",async()=>{new n.Tray("./public/vite"),n.ipcMain.on("toolTipDesc",async()=>{})});n.app.on("window-all-closed",()=>{e=null});n.app.whenReady().then(i);
